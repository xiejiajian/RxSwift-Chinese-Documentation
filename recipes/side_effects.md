# é™„åŠ ä½œç”¨

## ä»€ä¹ˆæ˜¯å‡½æ•°çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ï¼Ÿ

å¦‚æœä¸€ä¸ªå‡½æ•°é™¤äº†è®¡ç®—è¿”å›å€¼ä»¥å¤–ï¼Œè¿˜æœ‰å…¶ä»–å¯è§‚æµ‹ä½œç”¨ï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸ªå‡½æ•°æ‹¥æœ‰[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ã€‚

## å“ªäº›æ˜¯å‡½æ•°çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) ï¼Ÿ

### ç½‘ç»œè¯·æ±‚

å¦‚æœä¸€ä¸ªå‡½æ•°å‘èµ·äº†ç½‘ç»œè¯·æ±‚ï¼Œé‚£ä»–å°±æ˜¯æœ‰[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)çš„ã€‚è¿™ä¸ª[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)æ˜¯è·å–æˆ–å†™å…¥äº†å‡½æ•°æœ¬ä½“ä»¥å¤–çš„å…¨å±€çŠ¶æ€ï¼ˆæ•°æ®åº“å­˜å‚¨çš„çŠ¶æ€å¯çœ‹ä½œæ˜¯å…¨å±€çŠ¶æ€ï¼‰ã€‚

### è·å–ä½ç½®ä¿¡æ¯

å¦‚æœä¸€ä¸ªå‡½æ•°è·å–äº†ä½ç½®ä¿¡æ¯ï¼Œé‚£ä»–å°±æ˜¯æœ‰[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)çš„ã€‚è¿™ä¸ª[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)æ˜¯è·å–äº†å‡½æ•°æœ¬ä½“ä»¥å¤–çš„ä½ç½®ä¿¡æ¯ï¼ˆä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å…¨å±€çŠ¶æ€ï¼‰ã€‚

### è·å– UI çŠ¶æ€

å¦‚æœä¸€ä¸ªå‡½æ•°è·å–äº† UI çŠ¶æ€ï¼Œé‚£ä»–å°±æ˜¯æœ‰[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)çš„ã€‚è¿™ä¸ª[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)æ˜¯è¯»å–å‡½æ•°æœ¬ä½“ä»¥å¤–çš„ UI çŠ¶æ€ï¼ˆä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å…¨å±€çŠ¶æ€ï¼‰ã€‚

### å…¶ä»–ç±»å‹çš„é™„åŠ ä½œç”¨

ä»¥ä¸Šï¼Œç½‘ç»œè¯·æ±‚ï¼Œå®šä½å’ŒUIæ˜¯æ¯”è¾ƒå¸¸è§çš„[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ã€‚ä»¥ä¸‹ä¹Ÿæ˜¯[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ï¼š

* è¯»å†™å…¨å±€å˜é‡
* è¯»å†™æœ¬åœ°æ•°æ®åº“
* è¯»å†™æ–‡ä»¶
* ä½¿ç”¨è“ç‰™æ¨¡å—
* æ‰“å°è¾“å‡º
* ...

## App çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)

æœ‰[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)å¹¶ä¸æ˜¯ä»€ä¹ˆåäº‹æƒ…ã€‚äº‹å®ä¸Šï¼Œæ­£æ˜¯å› ä¸ºæœ‰äº†ä»–ï¼ŒApp æ‰æ›´æœ‰ä»·å€¼ã€‚æˆ‘ä»¬ä»¥å‡ ä¸ªå¸¸è§ App ä¸ºä¾‹ï¼š

### é¥¿äº†ä¹ˆ

é¥¿äº†ä¹ˆæ˜¯ä¸€ä¸ªè®¢é¤ Appï¼Œä»–æœ€ä¸»è¦çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) æ˜¯æ›´æ–°ç¨‹åºæœ¬ä½“ä»¥å¤–çš„çŠ¶æ€ã€‚å³ï¼š**é¥¿ -&gt; é¥± ï¼ˆå°†æˆ‘ä»¬ä»å¾ˆé¥¿å˜ä¸ºå¾ˆé¥±ï¼‰**ã€‚

### æŠ–éŸ³

æŠ–éŸ³æ˜¯ä¸€ä¸ªå½±éŸ³å¨±ä¹ Appï¼Œä»–æœ€ä¸»è¦çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) æ˜¯æ›´æ–°ç¨‹åºæœ¬ä½“ä»¥å¤–çš„çŠ¶æ€ã€‚å³ï¼š**ğŸ˜ -&gt; ğŸ˜ ï¼ˆå°†æˆ‘ä»¬å˜å¾—æ›´å¼€å¿ƒï¼‰**ã€‚

### æ»´æ»´

æ»´æ»´æ˜¯ä¸€ä¸ªå«è½¦ Appï¼Œä»–æœ€ä¸»è¦çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) æ˜¯æ›´æ–°ç¨‹åºæœ¬ä½“ä»¥å¤–çš„çŠ¶æ€ã€‚å³ï¼š**ğŸ  -&gt; ğŸ¢ï¼ˆä»èµ·ç‚¹åˆ°ç»ˆç‚¹ï¼‰**ã€‚

## [Observable](../rxswift_core/observable/) ä¸­çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)

åœ¨è§£é‡Š [Observable](../rxswift_core/observable/) ä¸­çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œå³ï¼š [**Observable**](../rxswift_core/observable/) **å…¶å®æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š**

```swift
// å»é™¤äº†ä¸ç›¸å…³çš„èŒƒå‹çº¦æŸï¼Œä¾¿äºç†è§£
func subscribe(_ observer: Observer) -> Disposable
```

ä½ æ²¡æœ‰çœ‹é”™ï¼ä»¥ä¸Š `subscribe` å‡½æ•°å°±æ˜¯ [Observable](../rxswift_core/observable/)ã€‚

æ¢å¥è¯è¯´ [Observable](../rxswift_core/observable/) çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8), æŒ‡çš„å°±æ˜¯ `subscribe` å‡½æ•°é‡Œé¢çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ã€‚

...

...

...

...

...

... ç»è¿‡ 60 ç§’å

### ç¤ºä¾‹ï¼š

ä¹‹å‰åœ¨ä»‹ç» [Observable](../rxswift_core/observable/) æ—¶ï¼Œä¸¾äº†è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼š

![1](../.gitbook/assets/JSON.png)

```swift
typealias JSON = Any

let json: Observable<JSON> = Observable.create { (observer) -> Disposable in

    let task = URLSession.shared.dataTask(with: ...) { data, _, error in

        guard error == nil else {
            observer.onError(error!)
            return
        }

        guard let data = data,
            let jsonObject = try? JSONSerialization.jsonObject(with: data, options: .mutableLeaves)
            else {
            observer.onError(DataError.cantParseJSON)
            return
        }

        observer.onNext(jsonObject)
        observer.onCompleted()
    }

    task.resume()

    return Disposables.create { task.cancel() }
}
```

è¿™é‡Œçš„é—­åŒ… `{ (observer) -> Disposable in ... }` å¯ä»¥çœ‹ä½œæ˜¯ `subscribe` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)å°±æ˜¯å‘èµ·ç½‘ç»œè¯·æ±‚å»è·å–ä¸€ä¸ª `JSON`ã€‚æ‰€ä»¥ `let json: Observable<JSON>` çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) ä¹Ÿæ˜¯å‘èµ·ç½‘ç»œè¯·æ±‚å»è·å–ä¸€ä¸ª `JSON`ã€‚

ç°åœ¨æˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿç†è§£ï¼Œä»€ä¹ˆæ˜¯ [Observable](../rxswift_core/observable/) çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) äº†ã€‚

## ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢ç§°å®ƒä¸º [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ï¼Œè€Œä¸æ˜¯ â€œ[å‰¯ä½œç”¨](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)â€ï¼Ÿ

é¦–å…ˆæ¾„æ¸…ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¿™é‡Œæ‰€ä»‹ç»çš„ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ï¼Œ å°±æ˜¯å¤§å®¶å¹³æ—¶è¯´çš„ **â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€**ã€‚

æœ€è¿‘å¬éŸ³ä¹æ—¶ï¼Œä¸ç»æ„é—´åˆ‡åˆ°äº†è¿™ä¸€é¦–æ­Œï¼š[ã€Šçˆ±çš„å‰¯ä½œç”¨ã€‹](https://music.163.com/#/song?id=329433&market=baiduqk)ï¼ˆè¿™é¦–æ­Œå¯èƒ½ä½ ä¹Ÿå¬è¿‡ï¼‰ã€‚

äºæ˜¯æˆ‘å°±å¾ˆå¥½å¥‡ï¼Œè¿™ä¸ª **â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€** åˆ°åº•æŒ‡çš„æ˜¯ **ä¸å¥½çš„ä½œç”¨**ï¼Œè¿˜æ˜¯[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) ğŸ¤”ã€‚ä»æ ‡é¢˜ä¸Šçœ‹ä¸å‡ºæ¥ï¼Œåæ¥æˆ‘çœ‹äº†ä¸‹æ­Œè¯ï¼š

```text
...
ä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³ä¸é€
åæ¥çš„æˆ‘å®³æ€•ä»€ä¹ˆ
éš¾é“çˆ±ä¹Ÿæœ‰å‰¯ä½œç”¨
è—åœ¨è¡€æ¶²é‡Œå¤´
è®©æˆ‘çš„å¿ƒå¶å°”æœ‰ç‚¹ç—›
...
```

æˆ‘çŸ¥é“äº†ï¼Œè¿™é‡Œçš„ **â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€** åº”è¯¥æ˜¯ **ä¸å¥½çš„ä½œç”¨**ã€‚è™½ç„¶è§£é‡Šæˆ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8) ä¹Ÿè¯´å¾—é€šã€‚ä½†æ˜¯ **ä¸å¥½çš„ä½œç”¨** æ›´ç¬¦åˆè¯­å¢ƒã€‚

é‚£ä¹ˆè¿™é‡Œå°±æœ‰ä¸ªé—®é¢˜ï¼Œ**â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€** æ˜¯ä¸€ä¸ª[å¤šä¹‰è¯](https://baike.baidu.com/item/%E5%A4%9A%E4%B9%89%E8%AF%8D/67069?fr=aladdin)ã€‚ä»–æ—¢å¯ä»¥ä»£è¡¨ **ä¸å¥½çš„ä½œç”¨**ï¼Œä¹Ÿå¯ä»¥ä»£è¡¨ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ã€‚è€Œä¸”ï¼Œåœ¨æœ‰äº›è¯­å¢ƒä¸‹è¿™ä¸¤ç§æ„ä¹‰éƒ½è¯´å¾—é€šã€‚æˆ‘ä»¬ä¾¿æ— æ³•è¯»å‡ºä½œè€…çš„æœ¬æ„ã€‚

åœ¨è®¡ç®—æœºé¢†åŸŸä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè™½ç„¶å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½çŸ¥é“ **â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€** æŒ‡çš„æ˜¯ [é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ï¼Œä½†æ˜¯ç”¨ **ä¸å¥½çš„ä½œç”¨** ä¹Ÿè§£é‡Šå¾—é€šã€‚è¿™æ ·å°±ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚

æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—å¦‚æœæœ‰ä¸€ä¸ªè¯ï¼Œä¸“é—¨è¡¨ç¤ºè®¡ç®—æœºé¢†åŸŸçš„ **â€œ**[**å‰¯ä½œç”¨**](https://hanyu.baidu.com/zici/s?wd=%E5%89%AF%E4%BD%9C%E7%94%A8&query=%E5%89%AF%E4%BD%9C%E7%94%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&srcid=28236&from=kg0&from=kg0)**â€** ä¼šæ›´å¥½ã€‚å¦‚ï¼š[é™„åŠ ä½œç”¨](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8)ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œè¯»è€…ä¸éœ€è¦åšå¤šä½™çš„åˆ¤æ–­ï¼Œå°±èƒ½è§£è¯»ä½œè€…çš„æ„å›¾ã€‚

